# =============================================================================
# Epic FHIR Patient Funding & Payment Automation - Environment Configuration
# =============================================================================
# 
# This file contains all the environment variables needed to run the application.
# Copy this file to .env and fill in your actual values.
#
# COMMAND TO CREATE .env FILE:
# cp env.example .env
#
# =============================================================================

# =============================================================================
# EPIC FHIR API CONFIGURATION (REQUIRED)
# =============================================================================
# These are the core Epic FHIR API credentials and endpoints.
# You must obtain these from your Epic system administrator or Epic developer portal.

# Epic FHIR Base URL - The base endpoint for all FHIR API calls
FHIR_BASE=https://fhir.epic.com/interconnect-fhir-oauth/api/FHIR/R4

# Epic OAuth2 Client Credentials - Your application's identity
CLIENT_ID=your_epic_client_id_here
CLIENT_SECRET=your_epic_client_secret_here

# OAuth2 Redirect Configuration - Where Epic sends users after authentication
REDIRECT_URI=http://localhost:4000/callback

# Epic OAuth2 Endpoints - For token exchange and authorization
TOKEN_URL=https://fhir.epic.com/interconnect-fhir-oauth/oauth2/token
AUTH_URL=https://fhir.epic.com/interconnect-fhir-oauth/oauth2/authorize

# =============================================================================
# APPLICATION CONFIGURATION (OPTIONAL - HAS DEFAULTS)
# =============================================================================
# These settings control the application behavior and have sensible defaults.

# Server Port - The port where the application will run
PORT=4000

# =============================================================================
# SECURITY CONFIGURATION (OPTIONAL - HAS DEFAULTS)
# =============================================================================
# These settings control security features and have defaults but should be customized.

# Session Secret - Used to sign and encrypt session cookies
# GENERATE A SECURE SESSION SECRET:
# Run this command in your terminal to generate a secure 32-character random string:
# node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# Example output: a1b2c3d4e5f6789012345678901234567890abcdef1234567890abcdef123456
# Then use it like: SESSION_SECRET=a1b2c3d4e5f6789012345678901234567890abcdef1234567890abcdef123456
SESSION_SECRET=your_secure_session_secret_here

# Environment - Controls application behavior (development/production)
NODE_ENV=development

# =============================================================================
# FEATURE FLAGS - Enable/Disable Menu Items and Features
# =============================================================================
# Set to 'true' to enable, 'false' to disable each feature
# These control which menu items and sections are visible in the application

# Core Patient Features
SHOW_PATIENT=true
SHOW_FUNDING_SUMMARY=true
SHOW_INSURANCE_COVERAGE=true
SHOW_EXPLANATION_OF_BENEFITS=true

# Additional FHIR API Features (from roadmap)
SHOW_ORGANIZATION=false
SHOW_PRACTITIONER=false
SHOW_ENCOUNTER=false
SHOW_CLAIMS=false
SHOW_INVOICES=false
SHOW_ACCOUNTS=false
SHOW_PAYMENT_RECONCILIATION=false
SHOW_PAYMENT_NOTICES=false
SHOW_CHARGE_ITEMS=false
SHOW_PROCEDURES=false
SHOW_DIAGNOSTIC_REPORTS=false
SHOW_OBSERVATIONS=false

# =============================================================================
# SETUP INSTRUCTIONS
# =============================================================================
#
# 1. COPY THIS FILE:
#    cp env.example .env
#
# 2. GET EPIC CREDENTIALS:
#    - Contact your Epic system administrator
#    - Or register at Epic's developer portal
#    - Obtain CLIENT_ID and CLIENT_SECRET
#
# 3. GENERATE SESSION SECRET:
#    node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# 4. UPDATE .env FILE:
#    - Replace all "your_*_here" values with actual credentials
#    - Use the generated session secret
#
# 5. TEST CONNECTION:
#    npm run dev
#
# =============================================================================
# SECURITY NOTES
# =============================================================================
#
# ⚠️  IMPORTANT SECURITY CONSIDERATIONS:
# - Never commit .env file to version control
# - Use different credentials for development/staging/production
# - Generate unique session secrets for each environment
# - Use HTTPS in production (Epic requires it)
# - Regularly rotate your Epic credentials
# - Keep your CLIENT_SECRET secure and private
#
# =============================================================================
# TROUBLESHOOTING
# =============================================================================
#
# If you see warnings about missing environment variables:
# - Ensure all required Epic FHIR variables are set
# - Check that your Epic credentials are correct
# - Verify your REDIRECT_URI matches Epic's configuration
# - Make sure you're using the correct Epic environment (sandbox/production)
#
# =============================================================================
